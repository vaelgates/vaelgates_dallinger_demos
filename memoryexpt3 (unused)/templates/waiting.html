{% extends "layout.html" %}

{% block body %}
    <div class="main_div">
        <h1>Waiting Room</h1>
        <hr>
        <div class="col-md-4">
            <div class="progress progress-striped active">
              <div id="waiting-progress-bar" class="progress-bar progress-bar-success" role="progressbar" aria-valuenow="0" aria-valuemin="0" aria-valuemax="100" style="width: 0%;"><span id="progress-percentage">0%</span></div>
            </div>
        </div>
        <div>
        <br>
        <br>
        <br>
        <p> Not all players have arrived: please wait for other players to join. </p>
        <br>
        <p> When all players have arrived, you will see a list of words presented one at
            a time. Try to remember as many as possible: you will be tested on these words later.
            Do not write the words down: this is a memory game!</p>
        <br>
        <p> If you get stuck in this waiting room for more than 10 minutes, please return the HIT and email
            <i>cocosci-lab@princeton.edu</i> for full compensation. Note that if you spend between 0 and 10 minutes
                waiting and then complete the game, you will be compensated $7/hour for that (<10 min) waiting time,
                automatically awarded as a bonus at the end. You will not be compensated for waiting more than
            10 minutes. </p>
        <br>
        </div>
    </div>
{% endblock %}

{% block scripts %}
    <script type="text/javascript">
        // wait for participant to be created and quorum to be reached
        dallinger.createParticipant().done(function () {
          dallinger.allowExit();
          if (dallinger.skip_experiment) {
            $('.main_div').html('<p>The experiment has exceeded the maximum number of participants, your participation is not required. Click the button below to complete the HIT. You will be compensated as if you had completed the task.</p><button type="button" class="button btn-success">Complete</button>')
            $('.main_div button').on('click', dallinger.submitAssignment);
          } else {
            dallinger.goToPage("experiment");
          }
        });
    </script>
{% endblock %}

